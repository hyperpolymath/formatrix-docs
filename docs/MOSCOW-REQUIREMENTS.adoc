= MoSCoW Requirements - Documentation Ecosystem
:toc: left
:toclevels: 4
:icons: font
:source-highlighter: highlightjs
// SPDX-License-Identifier: AGPL-3.0-or-later

== Overview

This document defines Must/Should/Could requirements for each component of the documentation ecosystem, organized for systematic implementation with integration seam checks.

== Component 1: Formatrix Docs (Human Editor)

=== MUST Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|FD-M01
|Unified AST types (Block, Inline, Document)
|âœ… Done

|FD-M02
|Markdown parser and renderer (comrak)
|âœ… Done

|FD-M03
|Djot parser and renderer (jotdown)
|âœ… Done

|FD-M04
|Org-mode parser and renderer (orgize)
|âœ… Done

|FD-M05
|Plain text handler
|âœ… Done

|FD-M06
|File open/save operations
|ðŸ”² Pending

|FD-M07
|Basic Tauri GUI shell
|ðŸ”² Pending

|FD-M08
|Format tabs component (ReScript)
|ðŸ”² Pending

|FD-M09
|Editor component with syntax highlighting
|ðŸ”² Pending

|FD-M10
|C FFI exports for Ada TUI
|âœ… Done

|FD-M11
|Basic Ada TUI with ncurses
|ðŸ”² Pending

|FD-M12
|Document event emission (created/modified/deleted)
|ðŸ”² Pending

|FD-M13
|SPDX headers on all source files
|âœ… Done

|FD-M14
|RSR compliance (STATE.scm, ECOSYSTEM.scm, META.scm)
|âœ… Done
|===

=== SHOULD Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|FD-S01
|AsciiDoc parser and renderer (asciidoc-parser)
|âœ… Done

|FD-S02
|reStructuredText parser and renderer (rst_parser)
|âœ… Done

|FD-S03
|Typst parser and renderer (typst-syntax)
|âœ… Done

|FD-S04
|Git status in status bar
|ðŸ”² Pending

|FD-S05
|Hunspell spell checking integration
|ðŸ”² Pending

|FD-S06
|Print/export to PDF
|ðŸ”² Pending

|FD-S07
|ArangoDB document storage
|âœ… Done

|FD-S08
|Recent files list
|âœ… Done

|FD-S09
|Auto-save with recovery
|ðŸ”² Pending

|FD-S10
|Keyboard shortcuts (vim/emacs modes)
|ðŸ”² Pending

|FD-S11
|Dark/light theme support
|ðŸ”² Pending

|FD-S12
|Document diff view
|ðŸ”² Pending
|===

=== COULD Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|FD-C01
|Graph view (document links visualization)
|ðŸ”² Pending

|FD-C02
|OCR integration (Tesseract)
|ðŸ”² Pending

|FD-C03
|TTS integration (espeak-ng)
|ðŸ”² Pending

|FD-C04
|STT integration (Vosk)
|ðŸ”² Pending

|FD-C05
|Pandoc bridge for exotic formats
|ðŸ”² Pending

|FD-C06
|Agrep fuzzy search
|ðŸ”² Pending

|FD-C07
|Gist library (ArangoDB-backed)
|âœ… Done

|FD-C08
|Share/send functionality
|ðŸ”² Pending

|FD-C09
|Nickel pipelines for import/export
|ðŸ”² Pending

|FD-C10
|Mobile support (Tauri 2.0)
|ðŸ”² Pending

|FD-C11
|Flying Logic reasoning diagrams
|ðŸ”² Pending

|FD-C12
|Collaborative editing (CRDTs)
|ðŸ”² Pending
|===

== Component 2: Recon-Silly-Ation (Reconciliation Engine)

=== MUST Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|RSA-M01
|ReconForth lexer (tokenization)
|âœ… Done

|RSA-M02
|ReconForth VM (stack, dictionary)
|âœ… Done

|RSA-M03
|Stack manipulation words (dup, drop, swap, over, rot)
|âœ… Done

|RSA-M04
|Arithmetic words (+, -, *, /, mod)
|âœ… Done

|RSA-M05
|Comparison words (=, <, >, <=, >=, <>)
|âœ… Done

|RSA-M06
|Logic words (and, or, not)
|âœ… Done

|RSA-M07
|Control flow words (if/else/then, call)
|âœ… Done

|RSA-M08
|Document words (new-doc, doc-hash, doc-content)
|âœ… Done

|RSA-M09
|Bundle words (new-bundle, bundle-add, bundle-count)
|âœ… Done

|RSA-M10
|Pack words (new-pack, require-doc, optional-doc)
|âœ… Done

|RSA-M11
|Validation words (emit-error, emit-warning, emit-suggestion)
|âœ… Done

|RSA-M12
|Format detection (detect-format)
|âœ… Done

|RSA-M13
|WASM bindings for ReScript
|âœ… Done

|RSA-M14
|EnforcementBot rule definitions
|âœ… Done

|RSA-M15
|PackShipper manifest creation
|âœ… Done

|RSA-M16
|Content hashing (SHA-256)
|âœ… Done

|RSA-M17
|RSR compliance files
|âœ… Done
|===

=== SHOULD Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|RSA-S01
|Format parsing words (parse-content, get-headings)
|âœ… Done

|RSA-S02
|EnforcementBot job scheduling
|ðŸ”² Pending

|RSA-S03
|PackShipper Git destination
|ðŸ”² Pending

|RSA-S04
|PackShipper filesystem destination
|ðŸ”² Pending

|RSA-S05
|PackShipper ArangoDB destination
|ðŸ”² Pending

|RSA-S06
|LogicEngine Datalog rules
|âœ… Done

|RSA-S07
|Conflict detection algorithms
|ðŸ”² Pending

|RSA-S08
|Confidence scoring for auto-resolution
|ðŸ”² Pending

|RSA-S09
|7-stage pipeline implementation
|ðŸ”² Pending

|RSA-S10
|Report generation (JSON, HTML)
|ðŸ”² Pending

|RSA-S11
|CLI interface for standalone use
|ðŸ”² Pending

|RSA-S12
|Pre-built pack specs (RSR, minimal, security)
|ðŸ”² Pending
|===

=== COULD Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|RSA-C01
|Haskell schema validator bridge
|ðŸ”² Pending

|RSA-C02
|DOT/Mermaid graph visualization
|ðŸ”² Pending

|RSA-C03
|CCCP compliance checker
|ðŸ”² Pending

|RSA-C04
|LLM integration hooks (for Docubot)
|ðŸ”² Pending

|RSA-C05
|Real-time event streaming (WebSocket)
|ðŸ”² Pending

|RSA-C06
|Distributed reconciliation across repos
|ðŸ”² Pending

|RSA-C07
|ML-enhanced conflict resolution
|ðŸ”² Pending

|RSA-C08
|Plugin system for custom words
|ðŸ”² Pending
|===

== Component 3: Docubot (AI Document Assistant)

=== MUST Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|DB-M01
|Module structure with ReScript types
|ðŸ”² Pending

|DB-M02
|LLM provider abstraction (Anthropic, OpenAI, local)
|ðŸ”² Pending

|DB-M03
|Document generation function
|ðŸ”² Pending

|DB-M04
|MANDATORY approval gate (requiresApproval: true)
|ðŸ”² Pending

|DB-M05
|Audit trail for all generations
|ðŸ”² Pending

|DB-M06
|Rate limiting per provider
|ðŸ”² Pending

|DB-M07
|Cost tracking and budgets
|ðŸ”² Pending

|DB-M08
|Template system for doc types
|ðŸ”² Pending

|DB-M09
|Context extraction from repo
|ðŸ”² Pending

|DB-M10
|Output validation before return
|ðŸ”² Pending
|===

=== SHOULD Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|DB-S01
|Improvement suggestions for existing docs
|ðŸ”² Pending

|DB-S02
|Cross-reference validation
|ðŸ”² Pending

|DB-S03
|Multiple format output (MD, ADOC, ORG)
|ðŸ”² Pending

|DB-S04
|Batch generation mode
|ðŸ”² Pending

|DB-S05
|Quality scoring of generated content
|ðŸ”² Pending

|DB-S06
|Human-in-the-loop feedback collection
|ðŸ”² Pending

|DB-S07
|Caching of similar requests
|ðŸ”² Pending

|DB-S08
|Prompt versioning and management
|ðŸ”² Pending
|===

=== COULD Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|DB-C01
|Local LLM support (Ollama, llama.cpp)
|ðŸ”² Pending

|DB-C02
|Fine-tuned models for doc generation
|ðŸ”² Pending

|DB-C03
|Multi-language doc generation
|ðŸ”² Pending

|DB-C04
|Style transfer between doc formats
|ðŸ”² Pending

|DB-C05
|Automated PR creation with generated docs
|ðŸ”² Pending

|DB-C06
|Integration with code analysis
|ðŸ”² Pending
|===

== Component 4: Docudactyl (Orchestrator)

=== MUST Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|DD-M01
|Module structure with ReScript types
|ðŸ”² Pending

|DD-M02
|Event bus for component communication
|ðŸ”² Pending

|DD-M03
|Scheduler for periodic tasks
|ðŸ”² Pending

|DD-M04
|Pipeline definition format
|ðŸ”² Pending

|DD-M05
|Pipeline executor
|ðŸ”² Pending

|DD-M06
|Component health checks
|ðŸ”² Pending

|DD-M07
|Configuration management
|ðŸ”² Pending

|DD-M08
|Logging and metrics
|ðŸ”² Pending

|DD-M09
|Error handling and recovery
|ðŸ”² Pending

|DD-M10
|CLI interface
|ðŸ”² Pending
|===

=== SHOULD Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|DD-S01
|Web dashboard (status overview)
|ðŸ”² Pending

|DD-S02
|Pipeline visualization
|ðŸ”² Pending

|DD-S03
|Manual trigger interface
|ðŸ”² Pending

|DD-S04
|Notification system (email, Slack, webhook)
|ðŸ”² Pending

|DD-S05
|Resource usage tracking
|ðŸ”² Pending

|DD-S06
|Pipeline history and replay
|ðŸ”² Pending

|DD-S07
|Dependency graph management
|ðŸ”² Pending

|DD-S08
|Multi-repo coordination
|ðŸ”² Pending
|===

=== COULD Have

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|DD-C01
|Distributed execution (multiple workers)
|ðŸ”² Pending

|DD-C02
|Auto-scaling based on load
|ðŸ”² Pending

|DD-C03
|Plugin system for custom pipelines
|ðŸ”² Pending

|DD-C04
|AI-powered pipeline optimization
|ðŸ”² Pending

|DD-C05
|Integration with CI/CD systems
|ðŸ”² Pending

|DD-C06
|Chaos engineering / resilience testing
|ðŸ”² Pending
|===

== Integration Seam Points

=== Seam 1: Formatrix â†” RSA

[cols="1,4,2",options="header"]
|===
|ID |Seam Requirement |Status

|SEAM-1A
|Document event protocol (JSON schema)
|ðŸ”² Pending

|SEAM-1B
|Shared format detection
|âœ… Done

|SEAM-1C
|AST interchange format
|âœ… Done

|SEAM-1D
|Hash algorithm consistency (SHA-256)
|âœ… Done
|===

=== Seam 2: RSA â†” Docubot

[cols="1,4,2",options="header"]
|===
|ID |Seam Requirement |Status

|SEAM-2A
|Generation request protocol
|ðŸ”² Pending

|SEAM-2B
|Approval callback mechanism
|ðŸ”² Pending

|SEAM-2C
|Audit event format
|ðŸ”² Pending

|SEAM-2D
|Context passing format
|ðŸ”² Pending
|===

=== Seam 3: RSA â†” Docudactyl

[cols="1,4,2",options="header"]
|===
|ID |Seam Requirement |Status

|SEAM-3A
|Pipeline trigger protocol
|ðŸ”² Pending

|SEAM-3B
|Status reporting format
|ðŸ”² Pending

|SEAM-3C
|Enforcement result format
|ðŸ”² Pending

|SEAM-3D
|Pack shipping completion event
|ðŸ”² Pending
|===

=== Seam 4: Docubot â†” Docudactyl

[cols="1,4,2",options="header"]
|===
|ID |Seam Requirement |Status

|SEAM-4A
|Generation scheduling
|ðŸ”² Pending

|SEAM-4B
|Approval workflow routing
|ðŸ”² Pending

|SEAM-4C
|Cost budget integration
|ðŸ”² Pending

|SEAM-4D
|Health check protocol
|ðŸ”² Pending
|===

=== Seam 5: All â†” ArangoDB

[cols="1,4,2",options="header"]
|===
|ID |Seam Requirement |Status

|SEAM-5A
|Document collection schema
|âœ… Done

|SEAM-5B
|Edge collection schema
|âœ… Done

|SEAM-5C
|Pack manifest collection schema
|ðŸ”² Pending

|SEAM-5D
|Audit log collection schema
|ðŸ”² Pending

|SEAM-5E
|Connection pooling strategy
|ðŸ”² Pending
|===

== Ecosystem-Level Requirements (v1 Publish)

=== MUST Have for v1

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|ECO-M01
|All component MUSTs complete
|ðŸ”² Pending

|ECO-M02
|All integration seams verified
|ðŸ”² Pending

|ECO-M03
|End-to-end workflow functional
|ðŸ”² Pending

|ECO-M04
|Container images for all components
|ðŸ”² Pending

|ECO-M05
|nerdctl-compose.yml for full stack
|ðŸ”² Pending

|ECO-M06
|Documentation complete (README, architecture, API)
|ðŸ”² Pending

|ECO-M07
|CI/CD pipelines for all repos
|ðŸ”² Pending

|ECO-M08
|Security audit passed
|ðŸ”² Pending

|ECO-M09
|License compliance verified
|ðŸ”² Pending

|ECO-M10
|Guix channel with all packages
|ðŸ”² Pending
|===

=== SHOULD Have for v1

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|ECO-S01
|All component SHOULDs complete
|ðŸ”² Pending

|ECO-S02
|Performance benchmarks published
|ðŸ”² Pending

|ECO-S03
|User documentation and tutorials
|ðŸ”² Pending

|ECO-S04
|API documentation (OpenAPI/AsyncAPI)
|ðŸ”² Pending

|ECO-S05
|Integration tests across all seams
|ðŸ”² Pending

|ECO-S06
|Monitoring and alerting setup
|ðŸ”² Pending

|ECO-S07
|Backup and recovery procedures
|ðŸ”² Pending

|ECO-S08
|Version compatibility matrix
|ðŸ”² Pending
|===

=== COULD Have for v1

[cols="1,4,2",options="header"]
|===
|ID |Requirement |Status

|ECO-C01
|All component COULDs complete
|ðŸ”² Pending

|ECO-C02
|Multi-cloud deployment guides
|ðŸ”² Pending

|ECO-C03
|Kubernetes/Helm charts
|ðŸ”² Pending

|ECO-C04
|SaaS offering roadmap
|ðŸ”² Pending

|ECO-C05
|Community contribution guidelines
|ðŸ”² Pending

|ECO-C06
|Plugin marketplace concept
|ðŸ”² Pending
|===
